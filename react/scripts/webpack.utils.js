"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.getRules=exports.getLoaders=void 0;var _path=_interopRequireDefault(require("path"));var _autoprefixer=_interopRequireDefault(require("autoprefixer"));var _postcssFlexbugsFixes=_interopRequireDefault(require("postcss-flexbugs-fixes"));var _miniCssExtractPlugin=_interopRequireDefault(require("mini-css-extract-plugin"));var _sass=_interopRequireDefault(require("sass"));var _postcss=_interopRequireDefault(require("postcss"));var getLoaders=function getLoaders(config){return{postCss:{loader:"postcss-loader",options:{implementation:_postcss["default"],postcssOptions:{plugins:[["postcss-preset-env",{stage:2}],_postcssFlexbugsFixes["default"],_autoprefixer["default"]]}}},sass:{loader:"sass-loader",options:{sourceMap:config.__DEV__,implementation:_sass["default"],additionalData:"\n          @import \"src/assets/styles/abstracts/_config.scss\";\n        ",sassOptions:{includePaths:[_path["default"].join(config.APP_SRC,"assets/styles/abstracts/**/*.scss")]}}},css:{loader:"css-loader",options:{sourceMap:config.__DEV__,importLoaders:2}},cssModules:{loader:"css-loader",options:{importLoaders:2,esModule:true,modules:{localIdentName:config.isServerRunning?"[local]--[hash:base64:5]":"[hash:base64:6]"},sourceMap:config.__DEV__}},tsx:["babel-loader","ts-loader"],js:[{loader:"babel-loader",options:{presets:["@babel/preset-react"]}},"source-map-loader"],styleOrExtractCss:{loader:config.isServerRunning?"style-loader":_miniCssExtractPlugin["default"].loader}}};exports.getLoaders=getLoaders;var getRules=function getRules(config){var paths=config.paths;return{images:{test:/\.(avif|webp|png|jpe?g|gif)$/i,exclude:/\.(svg|eot|ttf|woff|woff2)$/,use:[{loader:"file-loader",options:{outputPath:paths.images,name:"[name].[ext]",publicPath:config.publicUrlOrPath}}]},svg:{test:/\.svg$/i,exclude:/node_modules/,use:["@svgr/webpack",{loader:"url-loader",options:{limit:3000,name:"[name].[ext]",outputPath:paths.svg,publicPath:config.publicUrlOrPath}}]}}};exports.getRules=getRules;